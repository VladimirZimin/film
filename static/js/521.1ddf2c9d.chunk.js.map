{"version":3,"file":"static/js/521.1ddf2c9d.chunk.js","mappings":"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","sources":["pages/Signup/Signup.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport bgSignup from \"../../assets/img/bg-singup.jpg\";\r\nimport { Copyright } from \"components/Copyright/Copyright\";\r\nimport { Link } from \"@mui/material\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectToken, selectUser } from \"redux/selectors\";\r\nimport { addUser } from \"redux/auth/authSlice\";\r\nimport {\r\n  useCreateSessionMutation,\r\n  useCreateTokenQuery,\r\n  useValidateUserMutation,\r\n} from \"redux/auth/operations\";\r\n\r\nconst Signup = () => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n  const requestToken = useSelector(selectToken);\r\n\r\n  const { refetch } = useCreateTokenQuery();\r\n  const [validateUser] = useValidateUserMutation();\r\n  const [createSession, { isLoading }] = useCreateSessionMutation();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    const data = new FormData(evt.currentTarget);\r\n    const user = {\r\n      username: data.get(\"username\"),\r\n      password: data.get(\"password\"),\r\n      request_token: requestToken,\r\n    };\r\n\r\n    validateUser(user);\r\n    dispatch(addUser(user));\r\n\r\n    evt.currentTarget.reset();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user.username && user.password && user.request_token) {\r\n      createSession(user);\r\n    }\r\n  }, [createSession, user]);\r\n\r\n  useEffect(() => {\r\n    if (!user.username) {\r\n      refetch();\r\n    }\r\n  }, [refetch, user.username]);\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={createTheme({\r\n        breakpoints: {\r\n          values: {\r\n            mobile: 0,\r\n            mobile2: 560,\r\n            tablet: 850,\r\n            laptop: 1024,\r\n            desktop: 1170,\r\n            large: 1450,\r\n          },\r\n        },\r\n      })}\r\n    >\r\n      <Grid\r\n        container\r\n        component=\"section\"\r\n        // sx={{ height: \"calc(100vh - 60.69px)\" }}\r\n        sx={{ height: \"100vh\" }}\r\n      >\r\n        <Grid\r\n          item\r\n          mobile={false}\r\n          mobile2={5}\r\n          tablet={7}\r\n          laptop={8}\r\n          desktop={8}\r\n          large={9}\r\n          sx={{\r\n            backgroundImage: `url(${bgSignup})`,\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundColor: \"#1f1d2b\",\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center\",\r\n          }}\r\n        />\r\n        <Grid\r\n          item\r\n          mobile={12}\r\n          mobile2={7}\r\n          tablet={5}\r\n          laptop={4}\r\n          desktop={4}\r\n          large={3}\r\n          sx={{ backgroundColor: \"#1f1d2b\", color: \"#808191\" }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              my: 8,\r\n              mx: 4,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: \"#ea5f5f\", width: 56, height: 56 }}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                variant=\"standard\"\r\n                sx={{\r\n                  color: \"#808191\",\r\n                  \".MuiInputLabel-root\": { color: \"#808191\" },\r\n                  \".MuiInputLabel-root.Mui-focused\": { color: \"#ea5f5f\" },\r\n                  \".MuiFormLabel-asterisk\": { color: \"#ea5f5f\" },\r\n                  \".MuiInput-root\": {\r\n                    color: \"#808191\",\r\n                    \"&:after\": { borderBottom: \"2px solid #ea5f5f\" },\r\n                  },\r\n                }}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                variant=\"standard\"\r\n                sx={{\r\n                  color: \"#808191\",\r\n                  \".MuiInputLabel-root\": { color: \"#808191\" },\r\n                  \".MuiInputLabel-root.Mui-focused\": { color: \"#ea5f5f\" },\r\n                  \".MuiFormLabel-asterisk\": { color: \"#ea5f5f\" },\r\n                  \".MuiInput-root\": {\r\n                    color: \"#808191\",\r\n                    \"&:after\": { borderBottom: \"2px solid #ea5f5f\" },\r\n                  },\r\n                }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    value=\"remember\"\r\n                    sx={{\r\n                      color: \"#808191\",\r\n                      \"&.Mui-checked\": {\r\n                        color: \"#ea5f5f\",\r\n                      },\r\n                    }}\r\n                  />\r\n                }\r\n                label=\"Remember me\"\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isLoading ? true : false}\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{\r\n                  mt: 3,\r\n                  mb: 2,\r\n                  backgroundColor: \"#ea5f5f\",\r\n                  \"&:hover\": { backgroundColor: \"#ffffff\", color: \"#ea5f5f\" },\r\n                }}\r\n              >\r\n                LogIn\r\n              </Button>\r\n\r\n              <Grid container>\r\n                <Grid item>\r\n                  <Link\r\n                    color=\"inherit\"\r\n                    href={`https://www.themoviedb.org/authenticate/${requestToken}?redirect_to=${window.location.origin}/film/signup`}\r\n                    variant=\"body2\"\r\n                    sx={{ \"&:hover\": { color: \"#ea5f5f\" } }}\r\n                  >\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Copyright sx={{ mt: 5, color: \"#808191\" }} />\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"names":["dispatch","useDispatch","user","useSelector","selectUser","requestToken","selectToken","refetch","useCreateTokenQuery","_useValidateUserMutat","useValidateUserMutation","validateUser","_slicedToArray","_useCreateSessionMuta","useCreateSessionMutation","_useCreateSessionMuta2","createSession","isLoading","useEffect","username","password","request_token","_jsx","ThemeProvider","theme","createTheme","breakpoints","values","mobile","mobile2","tablet","laptop","desktop","large","children","_jsxs","Grid","container","component","sx","height","item","backgroundImage","concat","bgSignup","backgroundRepeat","backgroundColor","backgroundSize","backgroundPosition","color","Box","my","mx","display","flexDirection","alignItems","Avatar","m","bgcolor","width","LockOutlinedIcon","Typography","variant","onSubmit","evt","preventDefault","data","FormData","currentTarget","get","addUser","reset","mt","TextField","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","borderBottom","type","FormControlLabel","control","Checkbox","value","Button","disabled","mb","Link","href","window","location","origin","Copyright"],"sourceRoot":""}