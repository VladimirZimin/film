{"version":3,"file":"static/js/882.bc7ed9b7.chunk.js","mappings":"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","sources":["components/Copyright/Copyright.js","pages/Signup/Signup.js"],"sourcesContent":["import { Link, Typography } from \"@mui/material\";\r\nimport { styled } from \"styled-components\";\r\n\r\nconst LinkStyle = styled(Link)`\r\n  &:hover {\r\n    color: #ea5f5f;\r\n  }\r\n`;\r\n\r\nexport function Copyright(props) {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {\"Copyright Â© \"}\r\n      <LinkStyle color=\"inherit\" href=\"https://github.com/VladimirZimin\">\r\n        Vladimir Zimin\r\n      </LinkStyle>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport bgSignup from \"../../assets/img/bg-singup.jpg\";\r\nimport { Copyright } from \"components/Copyright/Copyright\";\r\nimport { Link } from \"@mui/material\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectToken, selectUser } from \"redux/selectors\";\r\nimport { addUser } from \"redux/auth/authSlice\";\r\nimport {\r\n  useCreateSessionMutation,\r\n  useCreateTokenQuery,\r\n  useValidateUserMutation,\r\n} from \"redux/auth/operations\";\r\n\r\nconst Signup = () => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n  const requestToken = useSelector(selectToken);\r\n\r\n  const { refetch } = useCreateTokenQuery();\r\n  const [validateUser] = useValidateUserMutation();\r\n  const [createSession, { isLoading }] = useCreateSessionMutation();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    const data = new FormData(evt.currentTarget);\r\n    const user = {\r\n      username: data.get(\"username\"),\r\n      password: data.get(\"password\"),\r\n      request_token: requestToken,\r\n    };\r\n\r\n    validateUser(user);\r\n    dispatch(addUser(user));\r\n\r\n    evt.currentTarget.reset();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user.username && user.password && user.request_token) {\r\n      createSession(user);\r\n    }\r\n  }, [createSession, user]);\r\n\r\n  useEffect(() => {\r\n    if (!user.username) {\r\n      refetch();\r\n    }\r\n  }, [refetch, user.username]);\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={createTheme({\r\n        breakpoints: {\r\n          values: {\r\n            mobile: 0,\r\n            mobile2: 560,\r\n            tablet: 850,\r\n            laptop: 1024,\r\n            desktop: 1170,\r\n            large: 1450,\r\n          },\r\n        },\r\n      })}\r\n    >\r\n      <Grid\r\n        container\r\n        component=\"section\"\r\n        // sx={{ height: \"calc(100vh - 60.69px)\" }}\r\n        sx={{ height: \"100vh\" }}\r\n      >\r\n        <Grid\r\n          item\r\n          mobile={false}\r\n          mobile2={5}\r\n          tablet={7}\r\n          laptop={8}\r\n          desktop={8}\r\n          large={9}\r\n          sx={{\r\n            backgroundImage: `url(${bgSignup})`,\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundColor: \"#1f1d2b\",\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center\",\r\n          }}\r\n        />\r\n        <Grid\r\n          item\r\n          mobile={12}\r\n          mobile2={7}\r\n          tablet={5}\r\n          laptop={4}\r\n          desktop={4}\r\n          large={3}\r\n          sx={{ backgroundColor: \"#1f1d2b\", color: \"#808191\" }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              my: 8,\r\n              mx: 4,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: \"#ea5f5f\", width: 56, height: 56 }}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                variant=\"standard\"\r\n                sx={{\r\n                  color: \"#808191\",\r\n                  \".MuiInputLabel-root\": { color: \"#808191\" },\r\n                  \".MuiInputLabel-root.Mui-focused\": { color: \"#ea5f5f\" },\r\n                  \".MuiFormLabel-asterisk\": { color: \"#ea5f5f\" },\r\n                  \".MuiInput-root\": {\r\n                    color: \"#808191\",\r\n                    \"&:after\": { borderBottom: \"2px solid #ea5f5f\" },\r\n                  },\r\n                }}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                variant=\"standard\"\r\n                sx={{\r\n                  color: \"#808191\",\r\n                  \".MuiInputLabel-root\": { color: \"#808191\" },\r\n                  \".MuiInputLabel-root.Mui-focused\": { color: \"#ea5f5f\" },\r\n                  \".MuiFormLabel-asterisk\": { color: \"#ea5f5f\" },\r\n                  \".MuiInput-root\": {\r\n                    color: \"#808191\",\r\n                    \"&:after\": { borderBottom: \"2px solid #ea5f5f\" },\r\n                  },\r\n                }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    value=\"remember\"\r\n                    sx={{\r\n                      color: \"#808191\",\r\n                      \"&.Mui-checked\": {\r\n                        color: \"#ea5f5f\",\r\n                      },\r\n                    }}\r\n                  />\r\n                }\r\n                label=\"Remember me\"\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isLoading ? true : false}\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{\r\n                  mt: 3,\r\n                  mb: 2,\r\n                  backgroundColor: \"#ea5f5f\",\r\n                  \"&:hover\": { backgroundColor: \"#ffffff\", color: \"#ea5f5f\" },\r\n                }}\r\n              >\r\n                LogIn\r\n              </Button>\r\n\r\n              <Grid container>\r\n                <Grid item>\r\n                  <Link\r\n                    color=\"inherit\"\r\n                    href={`https://www.themoviedb.org/authenticate/${requestToken}?redirect_to=${window.location.origin}/film/signup`}\r\n                    variant=\"body2\"\r\n                    sx={{ \"&:hover\": { color: \"#ea5f5f\" } }}\r\n                  >\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Copyright sx={{ mt: 5, color: \"#808191\" }} />\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"names":["LinkStyle","styled","Link","_templateObject","_taggedTemplateLiteral","Copyright","props","_jsxs","Typography","_objectSpread","variant","color","align","children","_jsx","href","Date","getFullYear","dispatch","useDispatch","user","useSelector","selectUser","requestToken","selectToken","refetch","useCreateTokenQuery","_useValidateUserMutat","useValidateUserMutation","validateUser","_slicedToArray","_useCreateSessionMuta","useCreateSessionMutation","_useCreateSessionMuta2","createSession","isLoading","useEffect","username","password","request_token","ThemeProvider","theme","createTheme","breakpoints","values","mobile","mobile2","tablet","laptop","desktop","large","Grid","container","component","sx","height","item","backgroundImage","concat","bgSignup","backgroundRepeat","backgroundColor","backgroundSize","backgroundPosition","Box","my","mx","display","flexDirection","alignItems","Avatar","m","bgcolor","width","LockOutlinedIcon","onSubmit","evt","preventDefault","data","FormData","currentTarget","get","addUser","reset","mt","TextField","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","borderBottom","type","FormControlLabel","control","Checkbox","value","Button","disabled","mb","window","location","origin"],"sourceRoot":""}